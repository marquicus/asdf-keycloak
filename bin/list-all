#!/usr/bin/env bash

# Fetch all tag names, and get only second column. Then remove all unnecessary characters.
list_of_versions=$(
  git ls-remote --heads --tags https://github.com/keycloak/keycloak.git |
    grep refs/tags |
    cut -d '/' -f 3 |
    grep -v '\^{}' |
    grep -v 'untagged' |
    sed -E 's/^(v)([0-9]+\.[0-9]+\.[0-9]+)$/\2/' | sort -n
)

# shellcheck disable=SC2086
echo $list_of_versions
